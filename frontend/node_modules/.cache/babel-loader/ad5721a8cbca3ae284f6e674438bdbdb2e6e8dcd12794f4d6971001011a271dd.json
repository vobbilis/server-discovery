{"ast":null,"code":"var _jsxFileName = \"/Users/vobbilis/go/src/github.com/vobbilis/codegen/project1/frontend/src/pages/SQLQuery.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Box, Typography, Paper, TextField, Button, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, CircularProgress, Alert, Divider } from '@mui/material';\nimport PlayArrowIcon from '@mui/icons-material/PlayArrow';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SQLQuery() {\n  _s();\n  const [query, setQuery] = useState('SELECT * FROM server_discovery.servers LIMIT 10');\n  const [results, setResults] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const handleQueryChange = event => {\n    setQuery(event.target.value);\n  };\n  const executeQuery = () => {\n    setLoading(true);\n    setError(null);\n    setResults(null);\n    fetch('/api/query', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        query\n      })\n    }).then(response => {\n      if (!response.ok) {\n        return response.text().then(text => {\n          throw new Error(text);\n        });\n      }\n      return response.json();\n    }).then(data => {\n      setResults(data);\n      setLoading(false);\n    }).catch(err => {\n      setError(err.message);\n      setLoading(false);\n    });\n  };\n\n  // Helper function to get all unique columns from results\n  const getColumns = results => {\n    if (!results || results.length === 0) return [];\n    const columns = new Set();\n    results.forEach(row => {\n      Object.keys(row).forEach(key => columns.add(key));\n    });\n    return Array.from(columns);\n  };\n  const columns = results ? getColumns(results) : [];\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      children: \"SQL Query\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        p: 2,\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle1\",\n        gutterBottom: true,\n        children: \"Enter your SQL query below:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        multiline: true,\n        rows: 5,\n        variant: \"outlined\",\n        value: query,\n        onChange: handleQueryChange,\n        sx: {\n          mb: 2,\n          fontFamily: 'monospace'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: executeQuery,\n        disabled: loading,\n        startIcon: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 32\n        }, this) : /*#__PURE__*/_jsxDEV(PlayArrowIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 65\n        }, this),\n        children: \"Execute Query\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 3\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this), results && /*#__PURE__*/_jsxDEV(Paper, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          p: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          children: [\"Results (\", results.length, \" rows)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n        sx: {\n          maxHeight: 500\n        },\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          stickyHeader: true,\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              children: columns.map(column => /*#__PURE__*/_jsxDEV(TableCell, {\n                children: column\n              }, column, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: results.map((row, rowIndex) => /*#__PURE__*/_jsxDEV(TableRow, {\n              hover: true,\n              children: columns.map(column => /*#__PURE__*/_jsxDEV(TableCell, {\n                children: row[column] !== null ? typeof row[column] === 'object' ? JSON.stringify(row[column]) : String(row[column]) : 'NULL'\n              }, `${rowIndex}-${column}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 23\n              }, this))\n            }, rowIndex, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n_s(SQLQuery, \"7XyHmwGS8bkn6mkqkuuAhx6ZuqM=\");\n_c = SQLQuery;\nexport default SQLQuery;\nvar _c;\n$RefreshReg$(_c, \"SQLQuery\");","map":{"version":3,"names":["React","useState","Box","Typography","Paper","TextField","Button","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","CircularProgress","Alert","Divider","PlayArrowIcon","jsxDEV","_jsxDEV","SQLQuery","_s","query","setQuery","results","setResults","loading","setLoading","error","setError","handleQueryChange","event","target","value","executeQuery","fetch","method","headers","body","JSON","stringify","then","response","ok","text","Error","json","data","catch","err","message","getColumns","length","columns","Set","forEach","row","Object","keys","key","add","Array","from","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","sx","p","mb","fullWidth","multiline","rows","onChange","fontFamily","color","onClick","disabled","startIcon","size","severity","maxHeight","stickyHeader","map","column","rowIndex","hover","String","_c","$RefreshReg$"],"sources":["/Users/vobbilis/go/src/github.com/vobbilis/codegen/project1/frontend/src/pages/SQLQuery.js"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  Box,\n  Typography,\n  Paper,\n  TextField,\n  Button,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  CircularProgress,\n  Alert,\n  Divider,\n} from '@mui/material';\nimport PlayArrowIcon from '@mui/icons-material/PlayArrow';\n\nfunction SQLQuery() {\n  const [query, setQuery] = useState('SELECT * FROM server_discovery.servers LIMIT 10');\n  const [results, setResults] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleQueryChange = (event) => {\n    setQuery(event.target.value);\n  };\n\n  const executeQuery = () => {\n    setLoading(true);\n    setError(null);\n    setResults(null);\n\n    fetch('/api/query', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ query }),\n    })\n      .then(response => {\n        if (!response.ok) {\n          return response.text().then(text => {\n            throw new Error(text);\n          });\n        }\n        return response.json();\n      })\n      .then(data => {\n        setResults(data);\n        setLoading(false);\n      })\n      .catch(err => {\n        setError(err.message);\n        setLoading(false);\n      });\n  };\n\n  // Helper function to get all unique columns from results\n  const getColumns = (results) => {\n    if (!results || results.length === 0) return [];\n    const columns = new Set();\n    results.forEach(row => {\n      Object.keys(row).forEach(key => columns.add(key));\n    });\n    return Array.from(columns);\n  };\n\n  const columns = results ? getColumns(results) : [];\n\n  return (\n    <Box>\n      <Typography variant=\"h4\" gutterBottom>\n        SQL Query\n      </Typography>\n      \n      <Paper sx={{ p: 2, mb: 3 }}>\n        <Typography variant=\"subtitle1\" gutterBottom>\n          Enter your SQL query below:\n        </Typography>\n        <TextField\n          fullWidth\n          multiline\n          rows={5}\n          variant=\"outlined\"\n          value={query}\n          onChange={handleQueryChange}\n          sx={{ mb: 2, fontFamily: 'monospace' }}\n        />\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={executeQuery}\n          disabled={loading}\n          startIcon={loading ? <CircularProgress size={20} /> : <PlayArrowIcon />}\n        >\n          Execute Query\n        </Button>\n      </Paper>\n\n      {error && (\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\n          {error}\n        </Alert>\n      )}\n\n      {results && (\n        <Paper>\n          <Box sx={{ p: 2 }}>\n            <Typography variant=\"h6\">\n              Results ({results.length} rows)\n            </Typography>\n          </Box>\n          <Divider />\n          <TableContainer sx={{ maxHeight: 500 }}>\n            <Table stickyHeader>\n              <TableHead>\n                <TableRow>\n                  {columns.map(column => (\n                    <TableCell key={column}>{column}</TableCell>\n                  ))}\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {results.map((row, rowIndex) => (\n                  <TableRow key={rowIndex} hover>\n                    {columns.map(column => (\n                      <TableCell key={`${rowIndex}-${column}`}>\n                        {row[column] !== null ? \n                          (typeof row[column] === 'object' ? \n                            JSON.stringify(row[column]) : \n                            String(row[column])\n                          ) : \n                          'NULL'\n                        }\n                      </TableCell>\n                    ))}\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </Paper>\n      )}\n    </Box>\n  );\n}\n\nexport default SQLQuery; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}